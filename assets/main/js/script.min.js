import{preloadImages}from"../../libs/utils.js";let lenis;function ourProduct(){document.querySelector(".our-product")&&new Swiper(".swiper-our-product",{slidesPerView:"auto",speed:600,pagination:{el:".swiper-our-product .swiper-pagination",type:"progressbar"}})}function textAnimation(){[...document.querySelectorAll(".animation-text[data-splitting][data-text-effect]")].forEach(e=>{var r=e.querySelectorAll(".char");r.forEach(e=>gsap.set(e.parentNode,{perspective:1e3})),gsap.fromTo(r,{scaleY:.1,scaleX:1.8,filter:"blur(10px) brightness(50%)",willChange:"filter, transform"},{ease:"none",scaleY:1,scaleX:1,filter:"blur(0px) brightness(100%)",stagger:.05,scrollTrigger:{trigger:e,start:"center bottom",end:"bottom top+=50%",scrub:!0}})})}function footer(){let r=document.querySelector("footer");let e=document.querySelector(".footer-top").offsetHeight;var t=document.querySelector(".footer-ovl");gsap.to("footer",{scrollTrigger:{trigger:"footer",start:"top top",end:()=>"+="+2*e,scrub:1,pin:!0,onUpdate:e=>{.6<=e.progress?r.classList.add("done"):r.classList.remove("done")}}}),gsap.fromTo(t,{transform:"skewY(-30deg) translateY(-180%)"},{transform:"skewY(-30deg) translateY(100%)",scrollTrigger:{trigger:"footer",start:"top top",end:()=>"+="+2*e,scrub:1},ease:"none"}),window.addEventListener("load",()=>{ScrollTrigger.refresh()})}Splitting();let init=()=>{gsap.registerPlugin(ScrollTrigger),footer(),console.log("aaaa")};preloadImages("img").then(()=>{ourProduct(),init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)}),textAnimation();